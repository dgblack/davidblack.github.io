<!DOCTYPE html>
<html>
<head>
<title>David Black Portfolio</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body,h1,h2,h3,h4,h5,h6 {font-family: "Lato", sans-serif;}
body, html {
  height: 100%;
  color: #777;
  line-height: 1.8;
}

/* Create a Parallax Effect */
.bgimg-1 {
  background-attachment: fixed;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
}

/* First image (Logo. Full height) */
.bgimg-1 {
  background-image: url('images/terasse.jpg');
  min-height: 100%;
}

.w3-wide {letter-spacing: 10px;}
.w3-hover-opacity {cursor: pointer;}

/* Turn off parallax scrolling for tablets and phones */
@media only screen and (max-device-width: 1600px) {
  .bgimg-1 {
    background-attachment: scroll;
    min-height: 400px;
  }
}
</style>
</head>
<body>

<!-- Navbar (sit on top) -->
<div class="w3-top">
  <div class="w3-bar" id="myNavbar">
    <a class="w3-bar-item w3-button w3-hover-black w3-hide-medium w3-hide-large w3-right" href="javascript:void(0);" onclick="toggleFunction()" title="Toggle Navigation Menu">
      <i class="fa fa-bars"></i>
    </a>
    <a href="index.html" class="w3-bar-item w3-button">HOME</a>
    <a href="index.html#about" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-user"></i> ABOUT</a>
    <a href="index.html#cv" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-th"></i> CV</a>
    <a href="adventure.html" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-map-o"></i> ADVENTURE</a>
    <a href="index.html#contact" class="w3-bar-item w3-button w3-hide-small"><i class="fa fa-envelope"></i> CONTACT</a>
    <a href="#" class="w3-bar-item w3-button w3-hide-small w3-right w3-hover-red">
      <i class="fa fa-search"></i>
    </a>
  </div>

  <!-- Navbar on small screens -->
  <div id="navDemo" class="w3-bar-block w3-white w3-hide w3-hide-large w3-hide-medium">
    <a href="index.html#about" class="w3-bar-item w3-button" onclick="toggleFunction()">ABOUT</a>
    <a href="index.html#cv" class="w3-bar-item w3-button" onclick="toggleFunction()">CV</a>
    <a href="adventure.html" class="w3-bar-item w3-button" onclick="toggleFunction()">ADVENTURE</a>
    <a href="index.html#contact" class="w3-bar-item w3-button" onclick="toggleFunction()">CONTACT</a>
    <a href="#" class="w3-bar-item w3-button">SEARCH</a>
  </div>
</div>

<!-- First Parallax Image with Logo Text -->
<div class="bgimg-1 w3-display-container w3-opacity-min" id="home">
  <div class="w3-display-middle" style="white-space:nowrap;">
    <span class="w3-center w3-padding-large w3-black w3-xlarge w3-wide w3-animate-opacity">DAVID <span class="w3-hide-small"></span> BLACK</span>
  </div>
</div>

<!-- Container (About Section) -->
<div class="w3-content w3-container w3-padding-64" id="about">
<h2 id="robotics-and-control-lab-rcl-coop">Robotics and Control Lab (RCL) Coop</h2>
<h4 id="date-may-december-2019">Date: May - December 2019</h4>
<p>I did an 8 month internship in Dr. Tim Salcudean’s lab at the University of British Columbia in 2019, working towards a haptic feedback system for the da Vinci surgical robot. I redesigned the wrist of the master arm to integrate a force sensor with minimal impact on the robot’s kinematics or dynamics. I also implemented various experiments and applications using the design and the robot’s complex teleoperation and control systems. This involved mechanical and electrical design and prototyping, working with Robot Operating System (ROS), C++, Python, and MATLAB, as well as kinematics, and dynamic model identification. I also helped design a real-time communication and control system for a novel 6-axis force/torque sensor with IMU and temperature sensing.</p>
<h4 id="publication">Publication</h4>
<p>After the first 4 months of the coop, I wrote a paper which has now been published in Robotics and Automation Letters and the International Conference for Robotics and Automation in Paris in 2020. The paper gives much more detail about the design pictured below and can be downloaded here:
<a href="https://github.com/dgblack/portfolio/raw/master/files/ICRA_Paper.pdf">6-DOF Force Sensing for the Master Tool Manipulator of the da Vinci Surgical System</a><br>We also wrote a paper entitled <a href="files/IEEE_TIE_Paper.pdf">Ultra Low-Noise FPGA-Based 6-Axis Optical Force-Torque Sensor: Hardware and Software</a> which was published in IEEE Transactions on Industrial Electronics in September 2020. I am second author on this paper, having written much of the control software and helped develop the firmware of the force sensor.</p>
<h4 id="highlights-of-the-work-done">Highlights of the Work Done</h4>
<p>The RCL Lab works closely with Intuitive to perform groundbreaking research with the da Vinci Robot. As such, we were given two master manipulators. I first designed and built a simple frame to mount the two arms (Master Tool Manipulaters, i.e. MTMs):</p>
<p><img width="270" height="315" src="images/work/frame.jpg" alt="MTM Frame">
<img width="270" height="315" src="images/work/arms.jpg" alt="Mounted MTMs"></p>
<p>I then began reverse-engineering the MTM wrist yaw link, and modified it mechanically and electrically to integrate a 6-axis ATI Nano43 force/torque sensor without changing the kinematics of the robot. This involved complex CAD modelling and a variety of manufacturing processes as we went through a number of prototypes, trying to fine-tune the rigidity, weight and tolerances to minimize impact on friction, flexing, and inertia, and thus the robot dynamics and operator feel.</p>
<h5 id="one-idea-in-cad">One idea in CAD</h5>
<p><img width="420" height="315" src="images/work/cad.png" alt="MTM CAD"></p>
<p>We tried waterjet cutting the part. The result can be seen here: </p>
<iframe width="420" height="315" src="https://www.youtube.com/embed/lddXpukYc3k">
</iframe>
<p>Unfortunately, this led to higher friction and was heavier, though its rigidity was excellent.</p>
<h5 id="the-final-3d-printed-part-with-electrical-modifications">The final 3D-printed part, with electrical modifications</h5>
<p><img width="250" height="315" src="images/work/wristOpen.jpg" alt="MTM Wrist Open">
<img width="250" height="315" src="images/work/wrist.jpg" alt="MTM Wrist Yaw Link"></p>
<h5 id="the-electrical-design-included-creating-a-flexible-pcb-to-connect-to-the-finger-grips">The electrical design included creating a flexible PCB to connect to the finger grips</h5>
<p><img width="300" height="315" src="images/work/pcbs.jpg" alt="Flexible PCB"></p>
<p>Once the mechanical and electrical design and fabrication were complete, I integrated the force sensor and modified wrist into the teleoperation system of the da Vinci robot. I also implemented a few example applications that are described in the paper above. This involved programming in C++ and Python with ROS, da Vinci Research Kit, and the CISST/SAW architecture.</p>
<p>An overview video of one of the applications can be viewed here:</p>
<iframe width="420" height="315" src="https://www.youtube.com/embed/t2htzyCRrIE">
</iframe>
<p>Finally, I implemented a dynamics identification routine for the arm. This involved developing a physical model of the mixed serial and parallel manipulator, then creating an optimal trajectory for the arm to move through that most excites the dynamics. By giving torque commands and recording the resultant joint velocities, the data could be fitted to the physical model using a convex optimization algorithm to obtain the dynamic parameters (inertia, damping, friction, etc.) of each joint. Using this method, we found that the addition of the force sensor only marginally increased the inertia of the wrist yaw link.</p>
<p>In parallel to this project, I wrote a communication and control system for a novel optical force sensor being designed by a PhD student at the lab. The sensor&#39;s design allows it to pick up nm deflections of the rod it is mounted on, and it runs at high speeds of 6.85MBaud with a 5kHz sampling rate. The sensor is described in more detail <a href="https://github.com/dgblack/portfolio/raw/master/files/forcesensor.pdf">here</a>. The sensor interfaces to a host computer using data packets sent over RS-485 to USB and PCIe, with Cyclic Redundancy Check error checking. I designed the host-PC side of this interaction using the Linux Comedi C++ libraries with a Python wrapper for low level control, and a GUI for real-time plotting and user sensor control.</p>
<p>I also designed a control box to interface between the host Linux computer and the sensor. The design was made to be modular, and to allow easy reparations or modifications by ensuring one does not have to solder awkwardly inside the box. The design can be seen here: Control Box Design:</p>
<iframe width="420" height="315" src="https://www.youtube.com/embed/HjcpAAcEoUk">
</iframe>
<h5 id="screenshot-of-the-user-interface">Screenshot of the User Interface</h5>
<p><img width="300" height="315" src="images/work/gui.jpg" alt="Sensor GUI"></p>
<h5 id="the-sensor-with-control-box">The Sensor with Control Box</h5>
<p><img width="300" height="315" src="images/work/forcesensor.jpg" alt="Optical Force Sensor"></p>
<p>Finally, I also implemented modifications in an MRI compatible shaker for MRI elastography of the prostate. The modifications ensured the plastic bolts would not shear under the stress and heat generated by the shaking, as polycarbonate bolts had done before. They also made the the shaker more steadily hold its position in the rails of the MRI bed.</p>
<h5 id="mri-shaker">MRI Shaker</h5>
<p><img width="250" height="315" src="images/work/mriShaker.jpg" alt="MRI Shaker"></p>

<!-- Footer -->
<footer class="w3-center w3-black w3-padding-64 w3-opacity w3-hover-opacity-off">
  <a href="#home" class="w3-button w3-light-grey"><i class="fa fa-arrow-up w3-margin-right"></i>To the top</a>
  <div class="w3-xlarge w3-section">
    <a href="https://github.com/dgblack"><i class="fa fa-github w3-hover-opacity"></i></a>
    <a href="https://scholar.google.com/citations?user=As_yDKkAAAAJ&hl=en"><i class="fa fa-google w3-hover-opacity"></i></a>
    <a href="https://twitter.com/BlackDavidG"><i class="fa fa-twitter w3-hover-opacity"></i></a>
    <a href="https://linkedin.com/in/davidgblack"><i class="fa fa-linkedin w3-hover-opacity"></i></a>
  </div>
  <p>Powered by <a href="https://www.w3schools.com/w3css/default.asp" title="W3.CSS" target="_blank" class="w3-hover-text-green">w3.css</a></p>
</footer>
 
<script>
// Modal Image Gallery
function onClick(element) {
  document.getElementById("img01").src = element.src;
  document.getElementById("modal01").style.display = "block";
  var captionText = document.getElementById("caption");
  captionText.innerHTML = element.alt;
}

// Change style of navbar on scroll
window.onscroll = function() {myFunction()};
function myFunction() {
    var navbar = document.getElementById("myNavbar");
    if (document.body.scrollTop > 100 || document.documentElement.scrollTop > 100) {
        navbar.className = "w3-bar" + " w3-card" + " w3-animate-top" + " w3-white";
    } else {
        navbar.className = navbar.className.replace(" w3-card w3-animate-top w3-white", "");
    }
}

// Used to toggle the menu on small screens when clicking on the menu button
function toggleFunction() {
    var x = document.getElementById("navDemo");
    if (x.className.indexOf("w3-show") == -1) {
        x.className += " w3-show";
    } else {
        x.className = x.className.replace(" w3-show", "");
    }
}
</script>
</body>
</html>
